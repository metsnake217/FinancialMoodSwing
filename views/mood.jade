    
extends layout

block content

    div(class="container", style="")
        img(src="/images/unknown.png" width="5%", class="logofin1")
        a(href="/login")
            img(src="/images/test1.png" class="logofin")
 
        h1!= "Select a Playlist"
        p!= "Select a playlist to load its contents."
        form(id="playlistedit-form")
            div(id="playlistedit")
                script(id="playlistedit-template" type="text/x-handlebars-template")
                    <select name="playedit" type="text" id="playedit" class="form-control" style="border-color:#3d9dcb;margin-bottom:10px" placeholder="Select Playlist">
                    <option value="select playlist">Select Playlist</option>{{#each items}}<option value="{{id}}">{{name}}</option>{{/each}}</select>
                    <span style="color: #8a6d3b;float: right;top: -35px;lef;right: 1.5%;position: relative;font-size: 14pt;" class="fa fa-sort"></span>

        br(style="clear: both;")

    script.
        var bearer = "Bearer " + "#{access_token}";
        var user;
        var playList = [];
        // find template and compile it
        var templateSourceplayedit = document.getElementById('playlistedit-template').innerHTML,
            templateedit = Handlebars.compile(templateSourceplayedit),
            editPlaceholder = document.getElementById('playlistedit');

        var searchPlaylists = function () {
            console.log("looking for playlists");
            console.log("access token in playlists: " + bearer);
            $.ajax({
                url: 'https://api.spotify.com/v1/me/playlists',
                headers: {'Authorization': bearer},
                success: function (response) {
                    editPlaceholder.innerHTML = templateedit(response);
                    
                    //editPlaceholder.innerHTML = templateedit(response);
                    console.log("success get playlists.");
                    
                }
            });
        };





        searchPlaylists();


